# アプリ内で表示する独自の文字列をローカライズする方法
日本語のみをサポートするアプリの場合も、ここで紹介する方法を使ってメッセージを使うことがあります。メッセージの管理がしやすいことや、将来的に複数言語に対応する際にコストが下がるからです。

メッセージのローカライズについてもintlパッケージが提供しています。arbファイルというJSON形式のファイルにメッセージを記述し、コードジェネレーターを使って、Dartのコードに変換します。

## コードジェネレーターを設定する

pubspec.yamlを編集する
```yaml
flutter:
  generate: true
```

生成されたコードをプロジェクトから参照できるように以下のコマンドを実行する
```sh
flutter pub get
```

プロジェクトルートに110n.yamlというファイルを作成し、以下の内容を記述する(110nはLocalizationの略です)
```yaml
# arbファイルのテンプレートファイル。後述の属性を記述するファイルを指定する
template-arb-file: app_ia.arb
# コードジェネレーターが生成するローカライズクラスのクラス名を指定する。デフォルトは「AppLocalizations」ですが、タイプ数を減らすために「L10n」に変更することも多い
output-class: L10n
# ローカライズクラスのゲッタがnull許容型かどうかを指定する
# Flutterの広報互換性のためにデフォルトはnull許容型となっていますので、可能であればfalseにしておきましょう
nullable: false
```

arbファイルはGoogleが提供するARB Editorという拡張機能がvsCodeにあるのでインストールしておく

## arbファイルを作成する
lob/110n/app_ja.arb
```arb
{
  "helloWorld": "こんにちは世界!",
  "@helloworld": {
    "description": "お決まりの挨拶"
  }
}
```

キーhelloWorldに対して、日本語のメッセージを記述しました。キーの先頭に@をつけると、そのキーは属性を記述するキーとして扱われる。

helloWorldのdescription属性(説明)として"お決まりの挨拶"と記述しておきました
そして次のコマンドを実行します
```sh
flutter gen-110n
```
すると、.dart_tool/flutter_gen/gen_110nディレクトリにarbファイルをもとに生成されたDartファイル(app_localizations.dart)が出力されます。
このファイルにメッセージを扱うためのコードが記述されているので、このファイルをインポートしてメッセージを表示するコードを書くことができる
